# このファイルについて

- GitHub Copilot や各種 AI ツールが本リポジトリのコンテキストを理解しやすくするためのガイドです。
- 新しい機能を実装する際はここで示す技術選定・設計方針・モジュール構成を前提にしてください。
- 不確かな点がある場合は、リポジトリのファイルを探索し、ユーザーに「こういうことですか?」と確認をするようにしてください。

# 前提

- アプリ内のコメントやドキュメント、PR 時のメッセージは日本語で記述してください。
- 判断に迷う場合は、都度質問してください。
- コードのスタイルガイドはプロジェクト内の他のコードに合わせてください。
- コードの変更を提案する際は、変更理由を明確に説明してください。
- 複数の実装方法が考えられる場合は、それぞれの利点と欠点を説明した上で、最適な方法を提案してください。
- セキュリティとプライバシーを最優先に考慮してください。
- 大きな変更をする場合は、事前にユーザーに方針を確認したください。

# プロジェクト概要

IBAぎゃらりぃ(iba-gallery)は IMAGINARY BASE AKIHABARA というコンセプトカフェの公式X(旧Twitter)アカウントから投稿された画像付きツイートを表示するウェブアプリケーションです。画像にはキャストの写真やイラストが含まれており、ファンがキャストを指定して過去のツイートをまとめて閲覧できるようになっています。
Discordログイン機能を備えており、認証されたユーザーはツイートをお気に入り登録することが出来ます。

## 運用

IBAぎゃらりぃはモノレポ構成で管理されており、以下の2つのアプリケーションで構成されています。
- iba-cast-gallery: メインのキャストギャラリーアプリケーション
  - 通常のユーザーは主にこちらのアプリケーションを利用します。
- tweet-tagger: ツイートにタグを付与するための管理用アプリケーション
  - 管理者がツイートの登録及びタグを付与・編集するために使用します。


## IBA についての基礎知識

IMAGINARY BASE AKIHABARA (IBA)は、秋葉原にあるコンセプトカフェです。キャストにはリアルキャストとイマジナリーキャストの 2 種類が存在し、訪れるお客様に独特な体験を提供しています。リアルキャストは実際に店舗で働くスタッフであり、イマジナリーキャストは仮想的なキャラクターとしてデジタル空間で活動します。

# 技術スタック

Next.js, TypeScript, Playwright, MUI, TypeORM, Supabase(PostgreSQL), Next-Auth, Vercel

# ディレクトリ構造

- /app: Next.js のアプリケーションコード
  - /iba-cast-gallery: キャストギャラリーアプリケーション
  - /tweet-tagger: ツイートタグ付けアプリケーション
- /packages: モノレポ内の共通パッケージ
  - /dao: データアクセスオブジェクト (DAO) パッケージ
  - /db-migrations: データベースマイグレーションスクリプト
  - /shared-types: 共有型定義パッケージ
- /e2e: エンドツーエンドテストコード
